{"version":3,"file":"index.js","sources":["src/helpers/removeDollarSign.ts","src/helpers/transformObjectValues.ts","src/helpers/removeObjectValues.ts","src/parser/BrueckeParser.ts","src/parser/DTCGParser.ts"],"sourcesContent":["export const removeDollarSign = (obj: AnyObject): AnyObject => {\n  if (typeof obj !== \"object\" || obj === null) {\n    return obj;\n  }\n\n  if (Array.isArray(obj)) {\n    return obj.map(removeDollarSign);\n  }\n\n  const result: AnyObject = {};\n\n  for (const key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      let newKey = key;\n\n      if (\n        key.startsWith(\"$\") &&\n        [\"value\", \"type\", \"description\", \"extensions\"].includes(key.slice(1))\n      ) {\n        newKey = key.slice(1);\n      }\n\n      result[newKey] = removeDollarSign(obj[key]);\n    }\n  }\n\n  return result;\n};\n","export const transformObjectValues = (\n  obj: any,\n  parentKeys: string[] = []\n): Record<string, AnyObject> => {\n  const transformedGrids: Record<string, AnyObject> = {};\n\n  for (const key in obj) {\n    if (typeof obj[key] === \"object\") {\n      const currentKeys: string[] = [...parentKeys, key];\n      const nestedTransformed = transformObjectValues(obj[key], currentKeys);\n      Object.assign(transformedGrids, nestedTransformed);\n    } else if (\n      (key === \"type\" && obj[key] === \"grid\") ||\n      (key === \"type\" && obj[key] === \"typography\") ||\n      (key === \"type\" && obj[key] === \"shadow\") ||\n      (key === \"type\" && obj[key] === \"blur\")\n    ) {\n      const valuePath = parentKeys.join(\"-\");\n      const gridValue = obj[\"value\"];\n      for (const prop in gridValue) {\n        const newKey = `${valuePath}-${prop}`;\n        transformedGrids[newKey] = {\n          type: \"grid\",\n          value: gridValue[prop]\n        };\n      }\n    }\n  }\n\n  return transformedGrids;\n};\n","export const removeObjectValues = (obj: AnyObject): AnyObject => {\n  for (const key in obj) {\n    if (typeof obj[key] === \"object\" && obj[key] !== null) {\n      if (\"value\" in obj[key] && typeof obj[key][\"value\"] === \"object\") {\n        delete obj[key];\n      } else {\n        removeObjectValues(obj[key]);\n      }\n    }\n  }\n\n  return obj;\n};\n","import {\n  removeDollarSign,\n  transformObjectValues,\n  removeObjectValues\n} from \"../helpers\";\n\ninterface ParserResult {\n  name: string;\n  pattern: RegExp;\n  parse: (options: { contents: string }) => Record<string, any>;\n}\n\nexport const BrueckeParser = {\n  name: \"custom/tokensBruecke\",\n  pattern: /\\.json$|\\.tokens\\.json$|\\.tokens$/,\n  parse: ({ contents }) => {\n    // Remove $meta from the JSON\n    const json = JSON.parse(contents);\n    delete json.$meta;\n\n    // Remove $ from the JSON\n    const jsonWithoutDollarSign = removeDollarSign(json);\n    const transformedValues = transformObjectValues(jsonWithoutDollarSign);\n\n    Object.assign(jsonWithoutDollarSign, transformedValues);\n\n    // Remove properties with objects\n    const jsonWithoutPropertiesWithObjects = removeObjectValues(\n      jsonWithoutDollarSign\n    );\n\n    return jsonWithoutPropertiesWithObjects;\n  }\n} as ParserResult;\n","import { removeDollarSign } from \"../helpers\";\n\ninterface ParserResult {\n  name: string;\n  pattern: RegExp;\n  parse: (options: { contents: string }) => Record<string, any>;\n}\n\nexport const DTCGParser = {\n  name: \"custom/dtcg\",\n  pattern: /\\.json$|\\.tokens\\.json$|\\.tokens$/,\n  parse: ({ contents }) => {\n    // Remove $meta from the JSON\n    const json = JSON.parse(contents);\n    delete json.$meta;\n\n    return removeDollarSign(json);\n  }\n} as ParserResult;\n"],"names":[],"mappings":"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"}